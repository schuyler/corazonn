# Amor Sequencer Sample Configuration
# Version: 1.0

voice_limit: 3

# Global acquire acknowledgement sample
# Played when any PPG acquires rhythm (with spatial panning to indicate which PPG)
acquire_sample: sounds/ppg/acquire_ack.wav

# PPG samples: 4 rows × 8 columns (32 total)
# Each PPG sensor (0-3) maps to 8 different samples
ppg_samples:
  0:  # Row 0 - Tubular bells
    - sounds/ppg/tubular_bell_C.wav
    - sounds/ppg/tubular_bell_D.wav
    - sounds/ppg/tubular_bell_E.wav
    - sounds/ppg/tubular_bell_F.wav
    - sounds/ppg/tubular_bell_G.wav
    - sounds/ppg/tubular_bell_A.wav
    - sounds/ppg/tubular_bell_B.wav
    - sounds/ppg/tubular_bell_C2.wav

  1:  # Row 1 - Singing bowls / wind chimes
    - sounds/ppg/singing_bowl_low.wav
    - sounds/ppg/singing_bowl_mid.wav
    - sounds/ppg/singing_bowl_high.wav
    - sounds/ppg/wind_chime_1.wav
    - sounds/ppg/wind_chime_2.wav
    - sounds/ppg/wind_chime_3.wav
    - sounds/ppg/crystal_bowl_1.wav
    - sounds/ppg/crystal_bowl_2.wav

  2:  # Row 2 - Water / wood / metal transients
    - sounds/ppg/water_drop_1.wav
    - sounds/ppg/water_drop_2.wav
    - sounds/ppg/wood_block_1.wav
    - sounds/ppg/wood_block_2.wav
    - sounds/ppg/metal_ping_1.wav
    - sounds/ppg/metal_ping_2.wav
    - sounds/ppg/glass_hit_1.wav
    - sounds/ppg/glass_hit_2.wav

  3:  # Row 3 - Harmonics / drones
    - sounds/ppg/harmonic_1.wav
    - sounds/ppg/harmonic_2.wav
    - sounds/ppg/harmonic_3.wav
    - sounds/ppg/drone_low.wav
    - sounds/ppg/drone_mid.wav
    - sounds/ppg/drone_high.wav
    - sounds/ppg/pad_1.wav
    - sounds/ppg/pad_2.wav

# Ambient loops: 32 total (16 latching + 16 momentary)
ambient_loops:
  latching:  # 16 loops for rows 4-5
    - sounds/loops/rain_light.wav
    - sounds/loops/ocean_waves.wav
    - sounds/loops/forest_ambience.wav
    - sounds/loops/pad_Am.wav
    - sounds/loops/pad_Dm.wav
    - sounds/loops/pad_Em.wav
    - sounds/loops/stream_water.wav
    - sounds/loops/night_crickets.wav
    - sounds/loops/wind_gentle.wav
    - sounds/loops/synth_pad_1.wav
    - sounds/loops/synth_pad_2.wav
    - sounds/loops/birds_morning.wav
    - sounds/loops/thunder_distant.wav
    - sounds/loops/cave_drip.wav
    - sounds/loops/drone_deep.wav
    - sounds/loops/bells_shimmer.wav

  momentary:  # 16 loops for rows 6-7
    - sounds/loops/riser_buildup.wav
    - sounds/loops/fx_thunder.wav
    - sounds/loops/stinger_1.wav
    - sounds/loops/stinger_2.wav
    - sounds/loops/whoosh_1.wav
    - sounds/loops/whoosh_2.wav
    - sounds/loops/impact_1.wav
    - sounds/loops/impact_2.wav
    - sounds/loops/sweep_up.wav
    - sounds/loops/sweep_down.wav
    - sounds/loops/noise_burst.wav
    - sounds/loops/glitch_1.wav
    - sounds/loops/glitch_2.wav
    - sounds/loops/reverse_cymbal.wav
    - sounds/loops/filtered_noise.wav
    - sounds/loops/vocal_texture.wav

# Audio effects: Per-PPG effect chains with biometric parameter mapping
# Requires pedalboard library: pip install pedalboard
#
# Available effects:
#   - reverb: Spatial depth with BPM-responsive room size
#   - delay: Rhythmic echoes synced to heartbeat
#   - chorus: Gentle shimmer that breathes with heart rate
#   - phaser: Sweeping filter with intensity control
#   - lowpass: Inverse BPM mapping (high BPM = darker/warmer sound)
#
audio_effects:
  enable: false  # Set to true to enable effects processing

  ppg_effects:
    0:  # PPG 0 - Tubular bells: BPM-synced delay + cathedral reverb
      - type: delay
        delay_seconds:
          bpm_sync: true       # Sync delay time to heartbeat rhythm
          subdivisions: 1.0    # Quarter note (1.0 sec at 60 BPM)
        feedback: 0.3          # Gentle echo tail
        mix: 0.25              # Subtle delay presence
      - type: reverb
        room_size:
          bpm_min: 60          # Resting heart rate
          bpm_max: 120         # Excited heart rate
          range: [0.5, 0.9]    # Small room → cathedral
        damping: 0.5
        wet_level: 0.35
        dry_level: 0.65

    1:  # PPG 1 - Singing bowls: Breathing chorus + calming lowpass
      - type: chorus
        rate_hz:
          bpm_sync: true       # Chorus sweeps with heartbeat
          scale: 0.015         # Very slow: ~0.025 Hz at 100 BPM
        depth: 0.4             # Gentle shimmer
        centre_delay_ms: 7.0
        feedback: 0.0
        mix: 0.4
      - type: lowpass
        cutoff_hz:
          bpm_min: 60
          bpm_max: 120
          range: [10000, 4000]  # Inverse: high BPM = warmer/darker

    2:  # PPG 2 - Water/wood/metal: Subtle reverb only (clean transients)
      - type: reverb
        room_size: 0.4         # Fixed small room
        damping: 0.6
        wet_level: 0.2         # Very subtle
        dry_level: 0.8

    3:  # PPG 3 - Harmonics/drones: BPM-synced chorus + long reverb
      - type: chorus
        rate_hz:
          bpm_sync: true
          scale: 0.02          # Slow breathing: ~0.033 Hz at 100 BPM
        depth: 0.5
        centre_delay_ms: 7.0
        feedback: 0.1
        mix: 0.5
      - type: reverb
        room_size: 0.7         # Fixed large space
        damping: 0.6
        wet_level: 0.45        # Pronounced reverb
        dry_level: 0.55
      - type: delay
        delay_seconds:
          bpm_sync: true
          subdivisions: 2.0    # Half note (longer rhythmic space)
        feedback: 0.25
        mix: 0.2
